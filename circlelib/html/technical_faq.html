<!DOCTYPE html PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html>
<head>
  <title>The Circle: Frequently Asked Questions</title>
</head>
  <body>
        
<h1>Frequently Asked Questions</h1>
<br>
<br>
        <big><a href="#1"> 1. How do I use Circle on two different computers?</a>
<br>
<a href="#2">2. How do I delete a gossip item? </a><br>
<a href="#3">3. How do Circle searches work?</a> <br>
<a href="#4">4. What are the scrawly signatures shown for people ?</a>  <br>
<a href="#5">5. What does the Circle icon (in the top-right of the window) 
mean?</a> <br>
<a href="#6">6. Why does Circle use so much/99% CPU on (MS) Windows?</a></big> 
               <br>
  
<h2><br>
</h2>
<h2><a name="1"></a>1. How do I use Circle on two different computers?</h2>
        
<p> [pfh]: By default, when you first start Circle it creates a new identity 
 for you the first time you run it. This is not so good if you already have 
 a Circle identity that other people know about. You will appear as two different 
 people! </p>
        
<p> To appear as the same person on a different computer, you need to copy 
 the your circle configuration across to it. Under Linux (and other Unices) 
 this is stored in the <tt>.circle</tt> sub-directory of your home directory. 
 Under Windows, it is stored in the <tt>circle_config</tt> sub-directory of
 the directory where you unzipped Circle. </p>
         
<p> For example, if you are using Circle on a Linux machine called <tt>alice</tt> 
 and you also want to use it on <tt>bob</tt>, type </p>
        
<p> <tt>scp -r ~/.circle bob:.</tt> </p>
         
<h2><a name="2"></a>2. How do I delete a gossip item?</h2>
        
<p> [pfh]: You don't. Once you've posted it, its too late to change your mind.
 You can however alter the trust distance. If you give the post a very high
trust distance it will only appear far down in people's gossip lists, and
chances are not many people will see it. </p>
        
<h2><a name="3"></a>3. How do Circle searches work?</h2>
        
<p> [njh]: circle should scale as approx lg(n) links per node. To see this 
 we assume that each node has a link for 1/2 way round the circle, 1/4 way 
 around the circle... 1/2^nth around the circle. We need enough links that 
 the last link is the next link (or close to it). To find any value we need 
 to make at most one 1/2 hop, one 1/4 hop.... 1/2^nth hop, which is lg(n) 
hops althogether. By knowing more than lg(n) neighbours the algorithm will 
go faster, or be more reliable. Obviously this is a theoretical result, we 
haven't seen circle running with more than a few hundred people.  The starting 
time is more dependent on things like published files and network latency 
for lots of small transfers. </p>
        
<p> njh clarifies that the above is not the current implementation, but that
  pfh intends to implement it once it becomes an issue. </p>
        
<p> Discussion of different topologies (hypernets, hypercubes, hypertori etc.):
<a href="http://www.perfdynamics.com/Papers/Gnews.html">http://www.perfdynamics.com/Papers/Gnews.html</a>
  </p>
         
<h2><a name="4"></a>4. What are the scrawly signatures shown for people ?</h2>
        
<p> They are graphical representations of the person's public key. </p>
        
<p> It is generated by converting the public key a few bits at a time into
  parameters of bezier curves, and adding a bias towards motion in a positive 
 <i>x</i> direction. (See <tt>circlelib/widget.py</tt>, search for `bezier'.)
  </p>
        
<p> The idea of using bezier curves was to have some visual representation 
 (easier to recognize than say a string of hex digits) that can be displayed 
 on a web page, printed from a [black &amp; white] printer, etc. </p>
        
<h3>Discussion of alternatives</h3>
        
<p> [Please skip this unimportant section.] </p>
        
<p> Face-looking things might be another interesting representation. </p>
        
<p> Iterated function system images (e.g. `<samp>xlock -nolock -mode ifs</samp>') 
 are insufficiently device-independent. </p>
        
<p> Having different representations for different media is probably a bad 
 thing.  Similarly for the idea of implementing a choice of representations. 
  (Conclusion of njh,pfh,ryan.) </p>
         
<h2><a name="5"></a>5. What does the Circle icon (in the top-right of the 
window) mean?</h2>
        
<p> Each mark on the edge of the circle represents a peer that your client 
 is currently connected to. The position around the circle of each mark corresponds 
 to the hash position of a node (circle client). </p>
        
<p> After your client has been up for ~an hour, the short marks change to 
 arcs. (The point where all the arcs are springing from is your client.) During
 that first hour, your client doesn't play much of a part in the distributed 
 hash table. <br>
   [<i>[pjm]: I wrote this paragraph without checking the details; can someone 
 confirm?</i>] </p>
        
<p> These hash positions are related to the distributed hash table on which 
 circle is based. If your client has hash position 0.23c5 (to use hexadecimal 
 notation for fractions in the range [0.0, 1.0)), and the next client around 
 the circle is 0.2a3f, then your client will be responsible for hash code 
positions in the range [0.23c5, 0.2a3f) (i.e. from 0.23c5 inclusive to 0.2a3f 
exclusive). </p>
        
<p> "Next around the circle" is in the angular (wraparound) sense, so if your
hash is 0.fff3 then the next client might be 0.0002, in which case your client
is responsible for [0.fff3, 1.0) and also for the range [0.0, 0.0002).  </p>
        
<p> (The above explanation is written with just 4 hexadecimal digits, but 
 the hashes are actually 128 bits long.) </p>
         
<h3>More on hash storage: load balancing</h3>
        
<p> [rnc]: If a node gets the hash ID 0.1a29, and "mp3" searches get hashed 
 into "0.1a29", then will this node will end up being queried for mp3 files 
 ?  <br>
   [rnc]: also: What if a node with a lousy connection ends up responsible
 for all search queries "mp3" ?  <br>
   [rnc]: is there some kind of load balancing already implemented ? </p>
        
<p> Hash entries are generally stored at multiple locations (see <tt>circlelib/node.py:publish</tt> 
 and its doc string).  This redundancy gives both load balancing and some 
resilience against node dropout. </p>
        
<p> [njh]: pfh tells me there is also a randomised jittering type algo to
  stop the "Britney spears effect". </p>
         
<h2><a name="6"></a>6. Why does Circle use so much/99% CPU on (MS) Windows?</h2>
        
<p> [njh]: Not 100% sure, but I suspect a significant proportion of the blame 
 lies somewhere in this code:  </p>
     
<pre>  if sys.platform == 'win32':<br>    # You may scream in horror if you wish.<br><br>    threadnice_mainloop_running = 1<br><br>    def threadnice_mainloop():<br>      global threadnice_mainloop_running<br>      while threadnice_mainloop_running:<br>        while events_pending():<br>          mainiteration()<br>        time.sleep(0.05)<br>      threadnice_mainloop_running = 1<br>    ...<br></pre>
        
<p> [pfh]: Possibly not, that will only execute once every 1/20th second. 
 Compare that with your average processor which executes an instruction every 
 1/1000000000th of a second. </p>
        
<p> [njh]: Sure, if the OS can schedule routines at that resolution.  Does 
 anybody know what the average nop scheduling time for windows is? </p>
        
<p> [ryan]: Can someone run the profiler under windows to find out? </p>
        
<p> A for a solution, the best would be to provide some alternative code; 
 otherwise a) buy a faster computer, b) run circle on a unixy type machine 
 and run via remote X, c) install Linux :) d) increase that 0.05 to say 0.5, 
 but note that doing so will increase the latency of your GUI. Yeah, it sucks.
  </p>
     <br>
     <br>
</body>
</html>
